[2021-01-24 03:24:23,431] INFO: set_init_models_and_get_retrievals
[2021-01-24 03:24:23,431] INFO: set_init_models_and_get_retrievals
[2021-01-24 03:24:23,436] INFO: loading model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,436] INFO: loading model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,436] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,436] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,441] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.wv.* with mmap=None
[2021-01-24 03:24:23,441] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.wv.* with mmap=None
[2021-01-24 03:24:23,441] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:23,441] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:23,442] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.vocabulary.* with mmap=None
[2021-01-24 03:24:23,442] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.vocabulary.* with mmap=None
[2021-01-24 03:24:23,442] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.trainables.* with mmap=None
[2021-01-24 03:24:23,442] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.trainables.* with mmap=None
[2021-01-24 03:24:23,443] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:23,443] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:23,443] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,443] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:23,444] INFO: load time:0.007766008377075195
[2021-01-24 03:24:23,444] INFO: load time:0.007766008377075195
[2021-01-24 03:24:24,450] INFO: pid:75462 done | load time: 1.0134637355804443
[2021-01-24 03:24:24,450] INFO: pid:75462 done | load time: 1.0134637355804443
[2021-01-24 03:24:24,450] INFO: loading model_word2vec_bibl_content
[2021-01-24 03:24:24,450] INFO: loading model_word2vec_bibl_content
[2021-01-24 03:24:24,451] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:24,451] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:24,466] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.wv.* with mmap=None
[2021-01-24 03:24:24,466] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.wv.* with mmap=None
[2021-01-24 03:24:24,467] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:24,467] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:24,468] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.vocabulary.* with mmap=None
[2021-01-24 03:24:24,468] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.vocabulary.* with mmap=None
[2021-01-24 03:24:24,468] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.trainables.* with mmap=None
[2021-01-24 03:24:24,468] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.trainables.* with mmap=None
[2021-01-24 03:24:24,469] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:24,469] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:24,469] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:24,469] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:24,471] INFO: load time:0.020810842514038086
[2021-01-24 03:24:24,471] INFO: load time:0.020810842514038086
[2021-01-24 03:24:25,477] INFO: pid:75462 done | load time: 1.0259578227996826
[2021-01-24 03:24:25,477] INFO: pid:75462 done | load time: 1.0259578227996826
[2021-01-24 03:24:25,477] INFO: loading model_word2vec_bibl_econtent
[2021-01-24 03:24:25,477] INFO: loading model_word2vec_bibl_econtent
[2021-01-24 03:24:25,477] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:25,477] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:25,482] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.wv.* with mmap=None
[2021-01-24 03:24:25,482] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.wv.* with mmap=None
[2021-01-24 03:24:25,482] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:25,482] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:25,483] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.vocabulary.* with mmap=None
[2021-01-24 03:24:25,483] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.vocabulary.* with mmap=None
[2021-01-24 03:24:25,483] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.trainables.* with mmap=None
[2021-01-24 03:24:25,483] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.trainables.* with mmap=None
[2021-01-24 03:24:25,483] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:25,483] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:25,484] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:25,484] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:25,484] INFO: load time:0.006893157958984375
[2021-01-24 03:24:25,484] INFO: load time:0.006893157958984375
[2021-01-24 03:24:26,489] INFO: pid:75462 done | load time: 1.0118389129638672
[2021-01-24 03:24:26,489] INFO: pid:75462 done | load time: 1.0118389129638672
[2021-01-24 03:24:48,819] INFO: set_init_models_and_get_retrievals
[2021-01-24 03:24:48,819] INFO: set_init_models_and_get_retrievals
[2021-01-24 03:24:48,822] INFO: loading model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,822] INFO: loading model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,822] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,822] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,824] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.wv.* with mmap=None
[2021-01-24 03:24:48,824] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.wv.* with mmap=None
[2021-01-24 03:24:48,825] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:48,825] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:48,825] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.vocabulary.* with mmap=None
[2021-01-24 03:24:48,825] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.vocabulary.* with mmap=None
[2021-01-24 03:24:48,826] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.trainables.* with mmap=None
[2021-01-24 03:24:48,826] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn.trainables.* with mmap=None
[2021-01-24 03:24:48,826] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:48,826] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:48,826] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,826] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_bible_bcn
[2021-01-24 03:24:48,827] INFO: load time:0.004145145416259766
[2021-01-24 03:24:48,827] INFO: load time:0.004145145416259766
[2021-01-24 03:24:49,831] INFO: pid:75505 done | load time: 1.0085208415985107
[2021-01-24 03:24:49,831] INFO: pid:75505 done | load time: 1.0085208415985107
[2021-01-24 03:24:49,831] INFO: loading model_word2vec_bibl_content
[2021-01-24 03:24:49,831] INFO: loading model_word2vec_bibl_content
[2021-01-24 03:24:49,832] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:49,832] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:49,843] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.wv.* with mmap=None
[2021-01-24 03:24:49,843] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.wv.* with mmap=None
[2021-01-24 03:24:49,843] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:49,843] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:49,844] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.vocabulary.* with mmap=None
[2021-01-24 03:24:49,844] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.vocabulary.* with mmap=None
[2021-01-24 03:24:49,844] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.trainables.* with mmap=None
[2021-01-24 03:24:49,844] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content.trainables.* with mmap=None
[2021-01-24 03:24:49,844] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:49,844] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:49,845] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:49,845] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_content
[2021-01-24 03:24:49,847] INFO: load time:0.014804840087890625
[2021-01-24 03:24:49,847] INFO: load time:0.014804840087890625
[2021-01-24 03:24:50,849] INFO: pid:75505 done | load time: 1.017591953277588
[2021-01-24 03:24:50,849] INFO: pid:75505 done | load time: 1.017591953277588
[2021-01-24 03:24:50,850] INFO: loading model_word2vec_bibl_econtent
[2021-01-24 03:24:50,850] INFO: loading model_word2vec_bibl_econtent
[2021-01-24 03:24:50,850] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:50,850] INFO: loading Word2Vec object from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:50,851] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.wv.* with mmap=None
[2021-01-24 03:24:50,851] INFO: loading wv recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.wv.* with mmap=None
[2021-01-24 03:24:50,852] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:50,852] INFO: setting ignored attribute vectors_norm to None
[2021-01-24 03:24:50,852] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.vocabulary.* with mmap=None
[2021-01-24 03:24:50,852] INFO: loading vocabulary recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.vocabulary.* with mmap=None
[2021-01-24 03:24:50,852] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.trainables.* with mmap=None
[2021-01-24 03:24:50,852] INFO: loading trainables recursively from /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent.trainables.* with mmap=None
[2021-01-24 03:24:50,853] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:50,853] INFO: setting ignored attribute cum_table to None
[2021-01-24 03:24:50,853] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:50,853] INFO: loaded /Users/neo1/PycharmProjects/vec4irltr/model/ir/20210121231330551/model_word2vec_bibl_econtent
[2021-01-24 03:24:50,854] INFO: load time:0.0034799575805664062
[2021-01-24 03:24:50,854] INFO: load time:0.0034799575805664062
[2021-01-24 03:24:51,857] INFO: pid:75505 done | load time: 1.006695032119751
[2021-01-24 03:24:51,857] INFO: pid:75505 done | load time: 1.006695032119751
[2021-01-24 03:25:00,757] INFO: api/search?q=창조
[2021-01-24 03:25:00,757] INFO: api/search?q=창조
[2021-01-24 03:25:00,889] ERROR: Internal Server Error: /api/search
Traceback (most recent call last):
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/ninja/operation.py", line 227, in _sync_view
    return operation.run(request, *a, **kw)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/ninja/operation.py", line 59, in run
    result = self.view_func(request, **values)
  File "/Users/neo1/PycharmProjects/vec4irltr/app/api.py", line 68, in search
    query_results = IRM.get_query_results(q=q, modeltype=modeltype, retrievals=RETRIEVALS, columns=columns, docid=docid, tb_df=tb_df, k=None)
  File "/Users/neo1/PycharmProjects/vec4irltr/ir/irmanager.py", line 284, in get_query_results
    row = [list().append(key) for key in (tb_df[tb_df[docid] == x].drop(['id'], axis=1).to_dict('index')).keys() for x in docids]
NameError: name 'x' is not defined
[2021-01-24 03:25:00,889] ERROR: Internal Server Error: /api/search
Traceback (most recent call last):
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/ninja/operation.py", line 227, in _sync_view
    return operation.run(request, *a, **kw)
  File "/Users/neo1/PycharmProjects/vec4irltr/venv/lib/python3.8/site-packages/ninja/operation.py", line 59, in run
    result = self.view_func(request, **values)
  File "/Users/neo1/PycharmProjects/vec4irltr/app/api.py", line 68, in search
    query_results = IRM.get_query_results(q=q, modeltype=modeltype, retrievals=RETRIEVALS, columns=columns, docid=docid, tb_df=tb_df, k=None)
  File "/Users/neo1/PycharmProjects/vec4irltr/ir/irmanager.py", line 284, in get_query_results
    row = [list().append(key) for key in (tb_df[tb_df[docid] == x].drop(['id'], axis=1).to_dict('index')).keys() for x in docids]
NameError: name 'x' is not defined
